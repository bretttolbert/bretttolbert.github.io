<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Ubuntu Budgie 21.04 installation notes | Brett Tolbert</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Ubuntu Budgie 21.04 installation notes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Software Developer" />
<meta property="og:description" content="Software Developer" />
<link rel="canonical" href="http://localhost:4000/blog/budgie-install-notes.html" />
<meta property="og:url" content="http://localhost:4000/blog/budgie-install-notes.html" />
<meta property="og:site_name" content="Brett Tolbert" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Ubuntu Budgie 21.04 installation notes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Software Developer","headline":"Ubuntu Budgie 21.04 installation notes","url":"http://localhost:4000/blog/budgie-install-notes.html"}</script>
<!-- End Jekyll SEO tag -->
<link id="main-stylesheet" rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Brett Tolbert" />
</head>
<body><header class="site-header">

  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Brett Tolbert</a>
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon"></span>
        </label>

        <div class="nav-items">
  <a class="nav-item" href="/about/">About</a>
  <a class="nav-item" href="/README.html">bretttolbert.github.io</a>
  <a class="nav-item" href="/blog/banana-pi-clock.html">How to turn a Banana Pi (or Raspberry Pi) into a clock</a>
  <a class="nav-item" href="/blog/bash-tip-history.html">Bash Tip: How to recall a specific command from Bash history and edit it before executing it again</a>
  <a class="nav-item" href="/blog/budgie-install-notes.html">Ubuntu Budgie 21.04 installation notes</a>
  <a class="nav-item" href="/blog/budgie-kb-layout.html">How to add Keyboard Layout indicator to top panel in Ubuntu Budgie 21.10</a>
  <a class="nav-item" href="/blog/ffmpeg-Ken-Burns.html">Using ffmpeg to a make TikTok video with a SoundCloud-style Ken Burns panning effect</a>
  <a class="nav-item" href="/blog/ffmpeg-record-Blue-Yeti.html">Bash one-liner: record video and audio from webcam and Blue Yeti microphone</a>
  <a class="nav-item" href="/blog/git-bash.html">Git Bash - a handy Bash shell for Windows</a>
  <a class="nav-item" href="/blog/graphviz-tree-graphs.html">Creating tree graphs with graphviz</a>
  <a class="nav-item" href="/blog/">Brett Tolbert’s Blog</a>
  <a class="nav-item" href="/blog/list-mp3-id3-tags.html">Bash one-liner: List mp3 music ID3v2 tag genre stats</a>
  <a class="nav-item" href="/blog/pip-trick.html">How to trick pip into listing every available version of a package</a>
  <a class="nav-item" href="/blog/play-random-mp3.html">Bash one-liner: Play a random .mp3 or .m4a file</a>
  <a class="nav-item" href="/blog/plots.html">I’m plotting some things</a>
  <a class="nav-item" href="/blog/python-idle-theme.html">How to add Monokai dark highlighting theme to IDLE Python Shell</a>
  <a class="nav-item" href="/blog/python-send-email.html">Python Send Email</a>
  <a class="nav-item" href="/blog/using-multiple-ssh-keys.html">Using multiple SSH keys for different GitHub accounts</a>
  <a class="nav-item" href="/">Brett Tolbert</a>
</div>

      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Ubuntu Budgie 21.04 installation notes</h1>
  </header>

  <div class="post-content">
    <h1 id="ubuntu-budgie-2104-installation-notes">Ubuntu Budgie 21.04 installation notes</h1>

<h2 id="update-this-article-is-outdated-ubuntu-budgie-2110-is-now-the-current-version-and-i-have-upgraded-to-it-and-suggest-you-do-the-same-most-of-the-info-below-still-applies-to-2110">Update: This article is outdated. Ubuntu Budgie 21.10 is now the current version and I have upgraded to it and suggest you do the same. Most of the info below still applies to 21.10.</h2>

<p>I recently decided to give Ubuntu Budgie a try. Here are a few notes documenting my 
experience setting up Ubuntu Budgie 21.04 to dual-boot alongside Windows 10 on an older i7 PC with dual 4K monitors (spoiler: I found my current graphics card is incapable of running dual 4K monitors at 60 FPS so I’m stuck with 1920x1080 until I decide to splurge on a new graphics card).</p>

<p>Ubuntu Budgie is an official flavor of Ubuntu using the Budgie desktop environment. I 
chose Budgie because I find the aesthetics very attractive, minimalist and modern. I choose Ubuntu because I’m familiar with it and comfortable with Debian-based distributions and because Ubuntu has a reputation for being stable and easy to work with.</p>

<h2 id="background-info">Background Info</h2>

<p>Here is some background info that will be helpful to understand going into this:</p>

<h3 id="the-difference-between-bios-and-efi">The difference between BIOS and EFI</h3>

<p>Older systems like mine use BIOS. In most modern systems, BIOS has been largely superseded by EFI (Extensible Firmware Interface). EFI systems have a special protected disk partition called the ESP (EFI System Partition). The installer will give a warning if you don’t select an EFI partition but you can safely ignore this warning if you have an older system like mine that uses traditional BIOS.</p>

<h3 id="the-difference-between-mbr-and-gpt-disks">The difference between MBR and GPT disks</h3>

<p>MBR (Master Boot Record) and GPT (GUID Partition Table) are two different ways to partition disks. Older systems like mine are more likely to use MBR (sometimes referred to as <code class="language-plaintext highlighter-rouge">msdos</code>). Newer systems or Linux systems typically use GPT. MBR partitions are limited to 2 TB in size. If you have a larger drive, you must use GPT. You can use the command <code class="language-plaintext highlighter-rouge">sudo parted -l</code> to see which type you have.</p>

<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1625789501382/gFAQC1Ko-E.png" alt="Screenshot from 2021-07-08 19-11-25.png" /></p>

<h2 id="installation-and-graphics-drivers">Installation and graphics drivers</h2>

<p>Following traditional wisdom, I installed Windows first before installing Ubuntu Budgie.</p>

<p>I have an Nvidia GTX 550 Ti graphics card. The live USB installer was initially booting to a blank screen. I had to use the “Safe Graphics” option for the install. Then after installation, my screen was going blank immediately after choosing Ubuntu at the Grub bootloader screen. As a temporary workaround, I edited the Grub to add the <code class="language-plaintext highlighter-rouge">nomodeset</code> argument:</p>

<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1625583299729/2dyrvlx8V.png" alt="Screenshots_2021-07-06-08-12-15.png" /></p>

<p>Then I was able to boot into Ubuntu Budgie and install updates and additional proprietary drivers. This caused it to install the <code class="language-plaintext highlighter-rouge">nvidia-driver-460</code> by default. Unfortunately after rebooting, I found that it was again booting to a blank screen. After some research I found the fix was to disable my integrated VGA graphics in BIOS. That got me past the blank screen but it was still stuck on a low resolution and not detecting my second monitor. I fixed this by installing the <code class="language-plaintext highlighter-rouge">nvidia-driver-390</code> driver with the command below (which also removes the 460 driver):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install nvidia-driver-390
</code></pre></div></div>

<p>Because I have 4K monitors, everything appeared quite small. I fixed this by increasing the scale to 200% in the Budgie <em>Displays</em> settings.</p>

<h2 id="vertical-scroll-speed-issue">Vertical Scroll Speed Issue</h2>

<p>The vertical scroll is very slow. It’s especially notable in web pages. I couldn’t find a knob to control it in my <code class="language-plaintext highlighter-rouge">xinput</code> settings, but I did find a way to do it in Firefox at least, where the sluggishness is most noticeable:</p>

<p>Go to <code class="language-plaintext highlighter-rouge">about:config</code></p>

<p>Increase vertical factor from <code class="language-plaintext highlighter-rouge">200</code> to <code class="language-plaintext highlighter-rouge">400</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mousewheel.system_scroll_override_on_root_content.vertical.factor
</code></pre></div></div>

<p>and then you have to enable the scroll setting override by changing this to <code class="language-plaintext highlighter-rouge">true</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mousewheel.system_scroll_override_on_root_content.enabled
</code></pre></div></div>

<h2 id="mouse-pointer-speed-issue">Mouse Pointer Speed issue</h2>

<p>I also increased the pointer speed in the Budgie <em>Mouse</em> settings, but I found with 4K resolution it was still too slow even with the max setting. First I tried adjusting the pointer control acceleration and threshold, but it didn’t have any noticeable effect. TLDR I wrote the scripts below to tweak the mouse pointer settings:</p>

<p>GetMouseSpeed.sh</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
DEVICE="Logitech Wireless Mouse"
xset q | grep -A 1 Pointer
xinput list-props "$DEVICE" | grep "Accel Speed"
xinput list-props "$DEVICE" | grep "Coordinate Transformation Matrix"
</code></pre></div></div>

<p>SetMouseSpeed.sh</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
DEVICE="Logitech Wireless Mouse"
if [ "$#" -ne 4 ]; then
	echo "usage: $0 &lt;xsetmacceleration&gt; &lt;xsetmthreshold&gt; &lt;libinputaccelspeed&gt; &lt;transformxy&gt;"
	echo "e.g. $0 1/1 4 1 2"
    exit 1
fi
xset m $1 $2
xinput set-prop "$DEVICE" "libinput Accel Speed" $3
xinput set-prop "$DEVICE" "Coordinate Transformation Matrix" $4, 0, 0, 0, $4, 0, 0, 0, 1
source GetMouseSpeed.sh
</code></pre></div></div>

<p>Demo:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brett@brett-Z68XP-UD4:~/Scripts$ ./GetMouseSpeed.sh 
Pointer Control:
  acceleration:  1/1    threshold:  4
	libinput Accel Speed (301):	1.000000
	libinput Accel Speed Default (302):	0.000000
	Coordinate Transformation Matrix (156):	3.000000, 0.000000, 0.000000, 0.000000, 3.000000, 0.000000, 0.000000, 0.000000, 1.000000
brett@brett-Z68XP-UD4:~/Scripts$ ./SetMouseSpeed.sh 
usage: ./SetMouseSpeed.sh &lt;xsetmacceleration&gt; &lt;xsetmthreshold&gt; &lt;libinputaccelspeed&gt; &lt;transformxy&gt;
e.g. ./SetMouseSpeed.sh 1/1 4 1 2
brett@brett-Z68XP-UD4:~/Scripts$ ./SetMouseSpeed.sh 1/1 4 1 2.1
Pointer Control:
  acceleration:  1/1    threshold:  4
	libinput Accel Speed (301):	1.000000
	libinput Accel Speed Default (302):	0.000000
	Coordinate Transformation Matrix (156):	2.100000, 0.000000, 0.000000, 0.000000, 2.100000, 0.000000, 0.000000, 0.000000, 1.000000
</code></pre></div></div>

<p>Note: I don’t believe the <code class="language-plaintext highlighter-rouge">xset m &lt;acceleration&gt; &lt;threshold&gt;</code> actually has any effect. The latter two arguments definitely do though (libinput acceleration speed and x &amp; y coordinate transform)</p>

<p>Make it permanent</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH=~/Scripts:$PATH
echo "!-1" &gt;&gt; ~/.bashrc
SetMouseSpeed.sh 1/1 4 1 2.2
echo "!-1" &gt;&gt; ~/.bashrc
</code></pre></div></div>

<h2 id="mouse-lag-fix">Mouse lag fix</h2>

<p>In addition to being slow, the mouse cursor appears laggy with 4K resolution. As I later found out, this probably had a lot to do with the low framerate I was getting trying to run 4K through a DVI port. More on that in the next section.</p>

<p>Anyway I found it can be improved somewhat by changing the following in NVIDIA X Server Settings: <em>X Server Display Configuration</em> -&gt; then for each monitor -&gt; <em>Advanced</em> -&gt; <em>[✓] Force Full Composition Pipeline</em>.</p>

<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1625788947182/aDL1Yxg-c.png" alt="Screenshot from 2021-07-08 19-01-34.png" /></p>

<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1625788959596/p_hgunj5i.png" alt="Screenshot from 2021-07-08 19-00-43.png" /></p>

<h2 id="requirements-for-dual-4k-monitors">Requirements for dual 4k monitors</h2>

<p>Unfortunately I found that my graphics card (Nvidia GTX 550 Ti) is incapable of driving dual 4K monitors at 60 FPS, due to the limitations of DVI ports. In fact it was running at a mere 23.98 FPS, according to the <code class="language-plaintext highlighter-rouge">xrandr</code> output:</p>

<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1625925845826/pf5NvKo8-.png" alt="Screenshot from 2021-07-10 09-03-42.png" /></p>

<p>The reason is due to my graphics card which only has two DVI ports. A single DVI port doesn’t have enough bandwidth to run 4K at 60 FPS. It’s possible with two DVI ports, but I’m trying to run not one but two 4K monitors. These days the newest cards have HDMI 2.1 and DisplayPort 1.4b ports that can deliver 4K to dual monitors without issue.</p>

<p>So I’m in the market for a new graphics card. I’m considering an AMD Radeon 6800. Unlike NVidia, AMD graphics cards are supported by the Linux kernel out of the box without any need for proprietary drivers.</p>

<p>Until I can get a new graphics card, I’ve lowered the resolution to 1920x1080 at 60 FPS and changed the scale back to 100%. At this resolution, the mouse pointer speed is fine with the default settings and the GUI is much more responsive.</p>

<h2 id="ntfs-mounted-read-only-fix">NTFS mounted read-only fix</h2>

<p>I have a second, NTFS-formatted hard drive for storage purposes only. It was being mounted read-only in Linux. I fixed this by disabling <em>Fast Startup</em> in Windows 10. See https://www.windowscentral.com/how-disable-windows-10-fast-startup</p>

<h2 id="drive-not-auto-mounting-fix">Drive not auto-mounting fix</h2>

<p>Initially my second hard drive was not being mounted automatically. It would only mount to <code class="language-plaintext highlighter-rouge">/media/brett/F458A3F358A3B2B2</code> after going to the <code class="language-plaintext highlighter-rouge">Places</code> menu and clicking ‘Local volumes -&gt; 2.0 TB Volume’. This was annoying because it makes Rythymbox giving missing files errors, since my music is on that drive. The solution is to add an entry to fstab. Here’s how:</p>

<p>For all subsequent intructions, replace <code class="language-plaintext highlighter-rouge">F458A3F358A3B2B2</code> with the UUID of your drive and replace <code class="language-plaintext highlighter-rouge">brett</code> with your username.
To find your UUID, run <code class="language-plaintext highlighter-rouge">sudo blkid</code> to see the UUID for every device. If you do not know your device name, run <code class="language-plaintext highlighter-rouge">sudo fdisk -l</code> and you should be able to figure it out.
To find your username, run <code class="language-plaintext highlighter-rouge">whoami</code>. Queue Supertramp-<em>please tell me who I ammmm, who I ammmm, who I ammmm, who I ammmmmmm</em></p>

<p>Create the mount point (I chose something much shorter than the default, for convenience):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir /data
</code></pre></div></div>
<p>Create a new permissions group for whoever/whatever should have access to the drive:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo groupadd data
</code></pre></div></div>
<p>Add your account to the group:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo usermod -aG data brett
</code></pre></div></div>
<p>Change the owner of the mountpoint:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo chown -R :data /data
</code></pre></div></div>
<p>Append an fstab entry:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo echo 'UUID=F458A3F358A3B2B2 /data    auto nosuid,nodev,nofail,x-gvfs-show 0 0' | sudo tee -a /etc/fstab
</code></pre></div></div>
<p>Before rebooting, test with:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mount -a
</code></pre></div></div>

<h2 id="installing-spotify">Installing Spotify</h2>

<p><code class="language-plaintext highlighter-rouge">snap install spotify</code></p>

<p>Alt + F2 spotify</p>

<p>Just keep hitting <code class="language-plaintext highlighter-rouge">Ctrl +</code> until it’s big enough to see on 4K monitors.</p>

<p>[✓] Keep in Dock</p>

<h2 id="installing-audacity">Installing Audacity</h2>

<p><code class="language-plaintext highlighter-rouge">snap install audacity</code></p>

<h2 id="installing-vim">Installing VIM</h2>

<p><code class="language-plaintext highlighter-rouge">sudo apt install vim</code></p>

<p>~/.vimrc</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set smartindent
set tabstop=4
set shiftwidth=4
set expandtab
autocmd FileType make setlocal noexpandtab
syntax enable
set nocompatible
set backspace=2
</code></pre></div></div>

<h2 id="installing-sublime-text">Installing Sublime Text</h2>

<p>(replace 4107 with latest version)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://download.sublimetext.com/sublime_text_build_4107_x64.tar.xz -O
tar xf sublime_text_build_4107_x64.tar.xz
sudo mv sublime_text /opt/
sudo cp /opt/sublime_text/sublime_text.desktop /usr/share/applications/
alias subl='/opt/sublime_text/sublime_text'
echo "!-1" &gt;&gt; ~/.bashrc
</code></pre></div></div>

<h2 id="upgrading-sublime-text">Upgrading Sublime Text</h2>

<p>(replace 4113 with latest version)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://download.sublimetext.com/sublime_text_build_4113_x64.tar.xz -O
tar xf sublime_text_build_4113_x64.tar.xz
sudo cp -r sublime_text /opt/
rm -rf sublime_text
</code></pre></div></div>

<h2 id="installing-beyond-compare-4">Installing Beyond Compare 4</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://www.scootersoftware.com/bcompare-4.3.7.25118_amd64.deb -O
sudo dpkg -i bcompare-4.3.7.25118_amd64.deb
</code></pre></div></div>

<h2 id="installing-git">Installing Git</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install git
ssh-keygen -t ed25519 -C "bretttolbert@gmail.com"
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
cat ~/.ssh/id_ed25519.pub
</code></pre></div></div>
<p>Now copy public key into GitHub account SSH keys.</p>

<h2 id="plank---app-launcher-bar">Plank - app launcher bar</h2>

<p>Type <code class="language-plaintext highlighter-rouge">Alt + F2</code> to bring up the command window and type <code class="language-plaintext highlighter-rouge">plank</code> and both <code class="language-plaintext highlighter-rouge">Plank</code> and <code class="language-plaintext highlighter-rouge">Plank Preferences</code> should appear. Click the latter. This will bring up a menu where you can adjust your launcher bar settings, e.g. icon size, which I like to increase to 48 px.</p>

<h2 id="raven---side-menu">Raven - side menu</h2>

<p>Raven is the Budgie vertical side menu with calendar, notifications and more that is toggled by the door icon beside the power icon (top-right). The Raven menu is also toggled with <code class="language-plaintext highlighter-rouge">Super + A</code>. (<em>Super</em> being the <em>Windows</em> key).</p>

<h2 id="final-verdict">Final verdict</h2>

<p>Despite the hiccups, I’m pleased with Ubuntu Budgie.</p>

<p><strong>Pros</strong></p>
<ul>
  <li>I like the Tilix terminal emulator because it has tabs and other nice features.</li>
  <li>Nice launcher. This is the first OS with a Mac-OS style launcher that I’ve actually liked. like the simplicity and minimalism of it. It’s also very responsive.</li>
</ul>

<p><strong>Cons</strong></p>
<ul>
  <li>My biggest frustration so far is the keyboard lag. Sometimes keyboard works fine but frequently it starts lagging. E.g. I press backspace and nothing happens, keep pressing it and nothing happens, then suddenly it catches up and deletes 100 letters. I haven’t figured out how to fix this yet. I’m using a Logitech Wireless Keyboard K270. Lag is most observable when editing text in a webpage, so it could be a combination of keyboard lag and HTTP lag. Also sometimes when I click to focus on a different window like Sublime Text I’m not able to type anything into it even though it appears to have focus. I have to click somewhere else and try giving the window focus again before the keyboard will work.</li>
  <li>I also keep having an issue where Sublime Text freezes and the cursor gets stuck. Have to close the tab and reopen it to fix.</li>
  <li>One annoying issue I haven’t been able to solve is sometimes being unable to click the <em>Download</em> button in the Firefox download dialog in Google Drive.</li>
</ul>

  </div>

</article>

      </div>
    </main><link id="fa-stylesheet" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css">

<footer class="site-footer h-card">
  <data class="u-url" value="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
      </div>
      <div class="footer-col">
        <p>Software Developer</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list">
  <li>
    <a href="http://localhost:4000/feed.xml" target="_blank" title="Subscribe to syndication feed">
      <svg class="svg-icon grey" viewbox="0 0 16 16">
        <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194
          11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0
          13.806c0-1.21.983-2.195 2.194-2.195zM10.606
          16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"
        />
      </svg>
    </a>
  </li>
</ul>
</div>

  </div>

</footer>

</body>

</html>
